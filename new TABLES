CREATE TABLE Recipes (
    recipe_id INT PRIMARY KEY,
    name VARCHAR(255),
    description TEXT,
    cuisine INT,
    difficulty INT,
    FOREIGN KEY (cuisine) REFERENCES Cuisines(cuisine_id)
);

CREATE TABLE MealTypes (
    meal_type_id INT PRIMARY KEY,
    name VARCHAR(255),
    description TEXT
);

CREATE TABLE RecipeMealTypes (
    recipe_id INT,
    meal_type_id INT,
    PRIMARY KEY (recipe_id, meal_type_id),
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id),
    FOREIGN KEY (meal_type_id) REFERENCES MealTypes(meal_type_id)
);

CREATE TABLE Labels (
    label_id INT PRIMARY KEY,
    name VARCHAR(255)
);

CREATE TABLE RecipeLabels (
    recipe_id INT,
    label_id INT,
    PRIMARY KEY (recipe_id, label_id),
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id),
    FOREIGN KEY (label_id) REFERENCES Labels(label_id)
);

CREATE TABLE Tips (
    tip_id INT PRIMARY KEY,
    recipe_id INT,
    tip TEXT,
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id)
);

CREATE TABLE Equipment (
    equipment_id INT PRIMARY KEY,
    name VARCHAR(255),
    instructions TEXT
);

CREATE TABLE RecipeEquipment (
    recipe_id INT,
    equipment_id INT,
    PRIMARY KEY (recipe_id, equipment_id),
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id),
    FOREIGN KEY (equipment_id) REFERENCES Equipment(equipment_id)
);

CREATE TABLE Ingredients (
    ingredient_id INT PRIMARY KEY,
    name VARCHAR(255),
    description TEXT,
    food_group VARCHAR(255)
);

CREATE TABLE RecipeIngredients (
    recipe_id INT,
    ingredient_id INT,
    quantity VARCHAR(50),
    PRIMARY KEY (recipe_id, ingredient_id),
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id),
    FOREIGN KEY (ingredient_id) REFERENCES Ingredients(ingredient_id)
);

CREATE TABLE NutritionalInfo (
    recipe_id INT PRIMARY KEY,
    fat_per_serving DECIMAL(10,2),
    protein_per_serving DECIMAL(10,2),
    carbohydrates_per_serving DECIMAL(10,2),
    calories_per_serving INT,
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id)
);

CREATE TABLE RecipeSteps (
    step_id INT PRIMARY KEY,
    recipe_id INT,
    step_order INT,
    description TEXT,
    servings INT,
    preparation_time INT,
    cooking_time INT,
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id)
);

CREATE TABLE RecipeThemes (
    theme_id INT PRIMARY KEY,
    name VARCHAR(255),
    description TEXT
);

CREATE TABLE RecipeThemeRelations (
    recipe_id INT,
    theme_id INT,
    PRIMARY KEY (recipe_id, theme_id),
    FOREIGN KEY (recipe_id) REFERENCES Recipes(recipe_id),
    FOREIGN KEY (theme_id) REFERENCES RecipeThemes(theme_id)
);


CREATE TABLE ChefCuisine (
    chef_id INT,
    cuisine VARCHAR(255),
    PRIMARY KEY (chef_id, cuisine),
    FOREIGN KEY (chef_id) REFERENCES Chefs(chef_id)
);
